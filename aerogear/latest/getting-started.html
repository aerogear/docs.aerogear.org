<!DOCTYPE html>
<html lang="en">
  <head>
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link href="https://stackpath.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-8+rznmq/k0KZkJlZhnuPEVkbRD7tA0wcFEjY48dajGWn3Xc1MasJwS8/tJ7OEsKW" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-1.9.1.min.js" integrity="sha256-wS9gmOZBqsqWxgIVgA8Y9WcQOa7PgSIX+rPA0VL2rbQ=" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js" integrity="sha384-Nud2SriDt2fZ+u85IBC48Yn9p+l4AGlapnX1EGA2KrnZjYJx8sxKnw/CIxc1wU1B" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/js-url/2.5.3/url.js"></script>
<script>
function addBlockSwitches() {
	$('.primary').each(function() {
		primary = $(this);
		createSwitchItem(primary, createBlockSwitch(primary)).item.addClass("selected");
		primary.children('.title').remove();
	});
	$('.secondary').each(function(idx, node) {
		secondary = $(node);
		primary = findPrimary(secondary);
		switchItem = createSwitchItem(secondary, primary.children('.switch'));
		switchItem.content.addClass('hidden');
		findPrimary(secondary).append(switchItem.content);
		secondary.remove();
	});
}

function createBlockSwitch(primary) {
	blockSwitch = $('<div class="switch"></div>');
	primary.prepend(blockSwitch);
	return blockSwitch;
}

function findPrimary(secondary) {
	candidate = secondary.prev();
	while (!candidate.is('.primary')) {
		candidate = candidate.prev();
	}
	return candidate;
}

function createSwitchItem(block, blockSwitch) {
	blockName = block.children('.title').text();
	content = block.children('.content').first().append(block.next('.colist'));
	item = $('<div class="switch--item">' + blockName + '</div>');
	item.on('click', '', content, function(e) {
		$(this).addClass('selected');
		$(this).siblings().removeClass('selected');
		e.data.siblings('.content').addClass('hidden');
		e.data.removeClass('hidden');
	});
	blockSwitch.append(item);
	return {'item': item, 'content': content};
}

$(addBlockSwitches);

Zepto(function($){
	if (url('?header') === 'false') {
		// Hide the navbar for showcase apps (#nochrome)
		$('body').addClass('nochrome');
	}
})
</script>


    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Getting Started with AeroGear Mobile Services :: AeroGear Mobile Services</title>
    <link rel="canonical" href="https://docs.aerogear.org/aerogear/latest/getting-started.html">
    <meta name="generator" content="Antora 2.0.0">
    <link rel="stylesheet" href="../../_/css/site.css">
<link rel="icon" href="../../_/img/favicon.png" type="image/x-icon">
  </head>
  <body class="article">
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/index.html">AeroGear</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        
        <li>
          <a href="https://aerogear.org">Home</a>
        </li>

        <li>
          <a href="https://aerogear.org/getting-started/">Getting Started</a>
        </li>

        <li>
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Mobile Services<span class="caret"></span></a>
            <ul class="dropdown-menu" role="menu">
              <li>
                <a href="https://aerogear.org/services/identity-management/">
                  <i class="material-icons" aria-hidden="true">account_circle</i> Identity Management
                </a>
              </li>
              <li>
                <a href="https://aerogear.org/services/push/">
                  <i class="material-icons" aria-hidden="true">notifications_active</i> Push Notifications
                </a>
              </li>
              <li>
                <a href="https://aerogear.org/services/metrics/">
                  <i class="material-icons" aria-hidden="true">insert_chart</i> Mobile Metrics
                </a>
              </li>
              <li>
                <a href="https://aerogear.org/services/mobile-ci-cd/">
                  <i class="material-icons" aria-hidden="true">build</i> Mobile CI/CD
                </a>
              </li>
              <li>
                <a href="https://aerogear.org/services/device-security/">
                  <i class="material-icons" aria-hidden="true">security</i> Device Security
                </a>
              </li>
            </ul>
        </li>

        <li>
          <a href="https://aerogear.org/sdks">Mobile SDKs</a>
        </li>

        <li>
         <a href="https://docs.aerogear.org/">Docs</a>
        </li>
   
        <li>
          <a href="https://aerogear.org/community">Community</a>
        </li>
        

        <li>
          <a href="https://aerogear.org/news">News</a>
        </li>
        
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav><div class="main-wrapper">
<div class="navigation-container" data-component="aerogear" data-version="latest">
  <aside class="navigation" role="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">Mobile Services</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="getting-started.html">Getting Started</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#introduction">Introduction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#setting-up-aerogear-mobile-services-on-openshift">Setting Up</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#provision-mdc">Provisioning Mobile Developer Console</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#registering">Registering a Mobile App</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#provisioning">Provisioning a Service</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#binding">Binding Services</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#setting-up-your-local-development-environment">Setting Up Development Environment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#running">Running a Mobile App</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="mobile-developer-console.html">Mobile Developer Console</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mobile-developer-console.html#introduction">Introduction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mobile-developer-console.html#provision-mdc">Provisioning Mobile Developer Console</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="mobile-developer-console.html#registering">Registering a Mobile App</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-developer-console.html#sdk">Configure SDK</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mobile-developer-console.html#services">Using mobile services</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mobile-developer-console.html#building">Building Mobile Apps</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="con_services.html">Mobile Services</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="identity-management.html">Identity Management</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="identity-management.html#introduction">Introduction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="identity-management.html#setting-up-the-idm-service">Setting Up</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="identity-management.html#adding-user-authentication-to-your-mobile-app">User Authentication</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="identity-management.html#access">Access Control</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="identity-management.html#adding-sso-to-your-mobile-app">Single Sign On</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="identity-management.html#monitoring">Monitoring Identity Management</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="push-notifications.html">Push Notifications</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="push-notifications.html#introduction">Introduction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="push-notifications.html#setup">Setting Up</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="push-notifications.html#push-ui">Using the Push Admin UI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="push-notifications.html#sending">Sending a Notification</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="push-notifications.html#handling">Handling a Notification</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="mobile-metrics.html">Mobile Metrics</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-metrics.html#introduction">Introduction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-metrics.html#setup">Setting Up</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-metrics.html#app">App and Device</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-metrics.html#identity">Identity Management</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-metrics.html#sync">Monitoring Data Sync Service</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-metrics.html#using-dashboards">Using Dashboards</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="mobile-cicd.html">Mobile CI/CD</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-cicd.html#introduction">Introduction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-cicd.html#setup">Setting Up</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-cicd.html#build-config">Creating a Build Configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-cicd.html#jenkins">Adding a Jenkins file</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-cicd.html#building">Building Apps</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-cicd.html#logs">Accessing Build Logs</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-cicd.html#deploy">Deploying Apps</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-cicd.html#clean">Cleaning up Builds</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="data-sync.html">Data Sync</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="data-sync.html#introduction">Introduction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="data-sync.html#setup">Setting Up</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="data-sync.html#ui">The Data Sync UI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="data-sync.html#schema">Working with a Schema</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="data-sync.html#resolvers">Adding resolvers to a Schema</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="data-sync.html#subscriptions">Adding subscriptions to a Schema</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="data-sync.html#sdk">Adding sync to your app</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="data-sync.html#monitoring">Monitoring Data Sync Service</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="data-sync.html#auth">Authentication for Data Sync Service</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="data-sync.html#authorization">Authorization for Data Sync Service</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="device-security.html">Device Security</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="device-security.html#introduction">Introduction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="device-security.html#setup">Setting Up</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="device-security.html#device-trust">Performing Device Trust Checks</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="device-security.html#cert-pinning">Certificate Pinning</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="showcase-apps.html">Showcase Apps</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="showcase-apps.html#setup">Service Setup</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="showcase-apps.html#app">Showcase App Setup</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="showcase-apps.html#binding">Service Binding</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="showcase-apps.html#downloading-the-mobile-services-configuration-file">Downloading the Mobile Services Configuration File</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="showcase-apps.html#build">Building and Running the Showcase Apps</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="showcase-apps.html#certs">Using Self Signed Certs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="showcase-apps.html#features">Demonstrating the Showcase App Features</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="ref_api.html">API Reference</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="mobile-cli.html">Mobile CLI</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="glossary.html">Glossary</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">Mobile Services</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Mobile Services</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">latest</a>
        </li>
        <li class="version">
          <a href="../v1.0/index.html">v1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main" role="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
  <a href="getting-started.html" class="home-link is-current"></a>
<nav class="crumbs" role="navigation" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="index.html">Mobile Services</a></li>
    <li class="crumb"><a href="getting-started.html">Getting Started</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="versions-menu-toggle" title="Show other versions of page">latest</button>
  <div class="versions-menu">
    <a class="version is-current" href="getting-started.html">latest</a>
    <a class="version" href="../v1.0/getting-started.html">v1.0</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/aerogear/mobile-docs/edit/master/modules/ROOT/pages/getting-started.adoc"></a></div>
</div>
<article class="doc">
<h1>Getting Started with AeroGear Mobile Services</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#introduction">Introduction</a></li>
<li><a href="#setting-up-aerogear-mobile-services-on-openshift">Setting up AeroGear Mobile Services on OpenShift</a>
<ul class="sectlevel2">
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#procedure">Procedure</a></li>
<li><a href="#local-setup">Local OpenShift setup</a></li>
</ul>
</li>
<li><a href="#provision-mdc">Provisioning Mobile Developer Console</a></li>
<li><a href="#registering">Registering a Mobile App</a></li>
<li><a href="#provisioning">Provisioning your First Service</a>
<ul class="sectlevel3">
<li><a href="#identity-management-configuration">Identity Management Configuration</a></li>
</ul>
</li>
<li><a href="#binding">Binding a Mobile App with the Identity Management Service</a>
<ul class="sectlevel2">
<li><a href="#procedure-4">Procedure</a></li>
<li><a href="#localdev">Configuring the Service</a></li>
</ul>
</li>
<li><a href="#setting-up-your-local-development-environment">Setting Up your Local Development Environment</a>
<ul class="sectlevel2">
<li><a href="#supported-environments">Supported Environments</a></li>
</ul>
</li>
<li><a href="#running">Running your First Mobile App</a>
<ul class="sectlevel2">
<li><a href="#cloning-the-showcase-app">Cloning the Showcase App</a></li>
<li><a href="#downloading-the-mobile-services-configuration-file">Downloading the Mobile Services Configuration File</a></li>
<li><a href="#building-the-app">Building the app</a></li>
<li><a href="#using-self-signed-certificates-in-mobile-apps">Using Self-Signed Certificates in Mobile Apps</a></li>
<li><a href="#running-the-app-in-an-emulator">Running the app in an emulator</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="introduction"><a class="anchor" href="#introduction"></a>Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>AeroGear Mobile Services provides solutions to common development challenges faced by mobile developers.
With OpenShift&#8217;s Container technology providing a secure, scalable backend platform, mobile developers can use the AeroGear SDK which supports a range of native (iOS &amp; Android) and hybrid (Xamarin &amp; Cordova) platforms to create secure, high quality apps and makes it easy to add features such as Push Notifications or Authentication.</p>
</div>
<div class="paragraph">
<p>Mobile Apps in OpenShift allow you to perform Cloud Native Mobile App Development using OpenShift as the back-end for your mobile apps. A Mobile App is a representation of the mobile app that you are developing locally. Mobile Apps allow you to bind your mobile app to mobile services such as Identity Management, Push Notifications, Mobile Metrics and others. This makes many of the common tasks associated with mobile development much easier and quicker to implement.</p>
</div>
<div class="paragraph">
<p>A configuration file named <code>mobile-services.json</code> acts as the link between your Mobile App in OpenShift and your local app in development. This configuration file is used to initialize the AeroGear SDK in your mobile app and to connect to the back-end Mobile Services you have provisioned on OpenShift.</p>
</div>
<div class="paragraph">
<p>Mobile Developer Console is part of AeroGear Mobile Services and allows you to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>create representation of your mobile application in OpenShift</p>
</li>
<li>
<p>bind Mobile App with mobile services</p>
</li>
<li>
<p>build your mobile app (requires <a href="mobile-cicd.html">Mobile CI/CD</a> service)</p>
</li>
<li>
<p>get <code>mobile-services.json</code> configuration file for AeroGear SDK</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
AeroGear Mobile Services is currently in a development phase. This makes it unsuitable for production deployment. Use this community release as an evaluation environment for developing and deploying mobile applications on Openshift.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This guide shows you how to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Set up AeroGear Mobile Services on OpenShift</p>
</li>
<li>
<p>Create a Mobile App and a Mobile Service (Identity Management)</p>
</li>
<li>
<p>Set up a local development environment</p>
</li>
<li>
<p>Configure the AeroGear showcase app for your mobile platform (Android, iOS, Cordova or Xamarin).</p>
</li>
<li>
<p>Run the showcase app and make calls to the Identity Management service.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="setting-up-aerogear-mobile-services-on-openshift"><a class="anchor" href="#setting-up-aerogear-mobile-services-on-openshift"></a>Setting up AeroGear Mobile Services on OpenShift</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Mobile Services run natively on <a href="https://www.openshift.org/" target="_blank" rel="noopener">OpenShift</a>. The installation script in the following steps installs Mobile Services on OpenShift.</p>
</div>
<div class="sect2">
<h3 id="prerequisites"><a class="anchor" href="#prerequisites"></a>Prerequisites</h3>
<div class="ulist">
<ul>
<li>
<p>OpenShift 3.11 instance</p>
<div class="ulist">
<ul>
<li>
<p>This instance must have Service Catalog, Ansible Service Broker and Template Service Broker services installed.</p>
</li>
<li>
<p>You need to have full access to this OpenShift instance, i.e. user with <code>cluster-admin</code> privileges.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you don&#8217;t have OpenShift instance you can use <code>oc cluster up</code> or Minishift to <a href="#local-setup">setup OpenShift locally</a>.
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://www.openshift.org/download.html" target="_blank" rel="noopener">OpenShift client tools</a> version 3.11</p>
</li>
<li>
<p><a href="https://www.docker.com/" target="_blank" rel="noopener">Docker</a></p>
</li>
<li>
<p>A local mobile development environment for the platform you want to develop on.</p>
</li>
<li>
<p><a href="https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html" target="_blank" rel="noopener">Ansible 2.7.x</a> installed on the machine where you want to run the installation scripts from</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="procedure"><a class="anchor" href="#procedure"></a>Procedure</h3>
<div class="sect3">
<h4 id="automated-install"><a class="anchor" href="#automated-install"></a>Automated Install</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clone the Mobile Services Installer repository:</p>
<div class="paragraph">
<p>The repository contains installation script for AeroGear Mobile Services.</p>
</div>
<div class="paragraph">
<p>Clone this repo to your local machine and check out the 1.0.0 tag using:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git clone https://github.com/aerogear/mobile-services-installer.git
cd mobile-services-installer
git checkout 1.0.0</code></pre>
</div>
</div>
</li>
<li>
<p>Login to your OpenShift instance as user with <code>cluster-admin</code> privileges:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ oc login &lt;OPENSHIFT_MASTER_URL&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Change directory SELinux security context (RHEL/Fedora):</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This step is only required on RHEL/Fedora with SELinux enabled.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ chcon -Rt svirt_sandbox_file_t .</code></pre>
</div>
</div>
</li>
<li>
<p>In the same directory, run the installer:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ ansible-playbook install-mobile-services.yml</code></pre>
</div>
</div>
</li>
<li>
<p>Verify the installation:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Browse to the Web console of your OpenShift instance and log in.</p>
</li>
<li>
<p>Check that the <em>Mobile</em> tab is displayed in the service catalog. If this tab is not displayed, wait a few minutes to make sure that the installation process has completed.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="manual-install"><a class="anchor" href="#manual-install"></a>Manual Install</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Login to your OpenShift instance as user with <code>cluster-admin</code> privileges using <code>oc</code></p>
</li>
<li>
<p>Prepare the Custom Resource Definition file for mobile:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cat > /tmp/crd.yaml << EOF
apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  name: mobileclients.mobile.k8s.io
spec:
  group: mobile.k8s.io
  version: v1alpha1
  scope: Namespaced
  names:
    plural: mobileclients
    singular: mobileclient
    kind: MobileClient
    shortNames:
    - mc
  validation:
    openAPIV3Schema:
      properties:
        spec:
          properties:
            apiKey:
              type: string
              pattern: '(\w{8}-\w{4}-\w{4}-\w{4}-\w{11})'
            name:
              type: string
              pattern: '([\w-])'
            dmzUrl:
              type: string
              nullable: true
EOF</code></pre>
</div>
</div>
</li>
<li>
<p>Run the following commands to setup the Custom Resource on OpenShift:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc create -f /tmp/crd.yaml
oc create clusterrole mobileclient-admin --verb=create,delete,get,list,patch,update,watch --resource=mobileclients
oc adm policy add-cluster-role-to-group mobileclient-admin system:authenticated</code></pre>
</div>
</div>
</li>
<li>
<p>Update the configurations of Automation Service Broker to add new registries:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Edit the config map object using <code>oc</code></p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc edit configmap broker-config -n openshift-automation-service-broker</code></pre>
</div>
</div>
</li>
<li>
<p>Add the following new registries to the <code>registry</code> section of the config:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">registry:
- type: dockerhub
  name: ag
  url: https://registry.hub.docker.com
  org: aerogearcatalog
  tag: 1.0.0
  white_list:
    - '.*-apb$'
  black_list:
    - '.*mobile-developer-console-apb$'
- type: dockerhub
  name: ag-mdc
  org: aerogearcatalog
  tag: 1.0.0-alpha
  url: https://registry.hub.docker.com
  white_list:
  - '.*mobile-developer-console-apb$'</code></pre>
</div>
</div>
</li>
<li>
<p>Update the following attributes in the <code>openshift</code> section of the config:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">openshift:
  image_pull_policy: Always
  sandbox_role: admin</code></pre>
</div>
</div>
</li>
<li>
<p>Update the following attributes in the <code>broker</code> section of the config:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">broker:
  launch_apb_on_bind: true</code></pre>
</div>
</div>
</li>
<li>
<p>Save the configmap object, and restart the automation service broker:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc rollout latest openshift-automation-service-broker -n openshift-automation-service-broker</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Verify the installation:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Browse to the Web console of your OpenShift instance and log in.</p>
</li>
<li>
<p>Check that the <em>Mobile</em> tab is displayed in the service catalog. If this tab is not displayed, wait a few minutes to make sure that the installation process has completed.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<h2 id="additional-resources" class="discrete">Additional resources</h2>
</div>
</div>
<div class="sect2">
<h3 id="local-setup"><a class="anchor" href="#local-setup"></a>Local OpenShift setup</h3>
<div class="paragraph">
<p>You can run OpenShift locally on your machine. There are two scripts in Mobile Developer Console repository which will create the cluster using Minishift or <code>oc cluster up</code>, and enable AeroGear Mobile Services.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
On Mac only Minishift is currently supported.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="prerequisites-2"><a class="anchor" href="#prerequisites-2"></a>Prerequisites</h4>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset1_minishift"></a>Minishift</p>
</li>
<li>
<p><a id="tabset1_oc-cluster-up"></a>oc cluster up</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset1_minishift">
<div class="ulist">
<ul>
<li>
<p><a href="https://www.okd.io/minishift/" target="_blank" rel="noopener">Minishift</a></p>
</li>
<li>
<p><a href="https://www.openshift.org/download.html" target="_blank" rel="noopener">OpenShift client tools</a> version 3.11</p>
</li>
<li>
<p><a href="https://www.docker.com/" target="_blank" rel="noopener">Docker</a></p>
</li>
<li>
<p><a href="https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html" target="_blank" rel="noopener">Ansible 2.7.x</a> installed on the machine where you want to run the installation scripts from</p>
</li>
</ul>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset1_oc-cluster-up">
<div class="ulist">
<ul>
<li>
<p>Linux</p>
</li>
<li>
<p><a href="https://www.openshift.org/download.html" target="_blank" rel="noopener">OpenShift client tools</a> version 3.11</p>
</li>
<li>
<p><a href="https://www.docker.com/" target="_blank" rel="noopener">Docker</a></p>
</li>
<li>
<p><a href="https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html" target="_blank" rel="noopener">Ansible 2.7.x</a> installed on the machine where you want to run the installation scripts from</p>
</li>
<li>
<p>Firewall configured:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">firewall-cmd --permanent --add-port=8443/tcp
firewall-cmd --permanent --add-port=8053/tcp
firewall-cmd --permanent --add-port=53/udp
firewall-cmd --permanent --add-port=443/tcp
firewall-cmd --permanent --add-port=80/tcp
firewall-cmd --reload</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="procedure-2"><a class="anchor" href="#procedure-2"></a>Procedure</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clone the Mobile Services Installer repository:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git clone https://github.com/aerogear/mobile-services-installer.git
cd mobile-services-installer
git checkout 1.0.0</code></pre>
</div>
</div>
</li>
<li>
<p>Run the installation script:</p>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset2_minishift"></a>Minishift</p>
</li>
<li>
<p><a id="tabset2_oc-cluster-up"></a>oc cluster up</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset2_minishift">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ ./scripts/minishift.sh</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset2_oc-cluster-up">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ ./scripts/oc-cluster-up.sh</code></pre>
</div>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Copy cluster self-signed certificate:</p>
<div class="paragraph">
<p>When the script finishes it will save OpenShift&#8217;s self-signed certificate to <code>/tmp/oc-certs/localcluster.crt</code>. Copy this file so you can later <a href="showcase-apps.html#installing-on-device" class="page">install it to your mobile device</a>.</p>
</div>
<div class="paragraph">
<p>This is needed so that your mobile app can communicate with OpenShift.</p>
</div>
</li>
<li>
<p>Browse to the Web console of your local OpenShift instance, accept self-signed certificate and log in.</p>
<div class="paragraph">
<p>You can get OpenShift URL with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ oc status</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Browser may redirect you to <code>localhost</code>. If that happens just enter the URL again and make sure to add <code>/console</code> at the end.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="provision-mdc"><a class="anchor" href="#provision-mdc"></a>Provisioning Mobile Developer Console</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To provision the Mobile Developer Console:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log into the OpenShift console.</p>
</li>
<li>
<p>Create a new project or choose an existing project.</p>
</li>
<li>
<p>Select <strong>Catalog</strong> from the left hand menu.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You can filter the catalog items to only show mobile specific items by selecting the <strong>Mobile</strong> tab.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Choose the Mobile Developer Console service.</p>
</li>
<li>
<p>Follow the wizard for provisioning that service.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If prompted to <strong>Create a Binding</strong>, choose <strong>Do not bind at this time</strong>.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Once the wizard steps are completed, navigate to the Project Overview in OpenShift to see the newly provisioned service.
Provisioning a service may take some time.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="registering"><a class="anchor" href="#registering"></a>Registering a Mobile App</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After provisioning Mobile Developer Console, the next step is to register a Mobile App for the mobile application that you are going to develop.</p>
</div>
<h3 id="procedure-3" class="discrete">Procedure</h3>
<div class="paragraph">
<p>To create a Mobile App:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log into the OpenShift console.</p>
</li>
<li>
<p>Choose project where you have previously deployed Mobile Developer Console.</p>
</li>
<li>
<p>Open Mobile Developer Console by clicking on its route in Overview screen.</p>
</li>
<li>
<p>Log into the Mobile Developer Console.</p>
</li>
<li>
<p>Click on <code>Create Mobile App</code> button.</p>
</li>
<li>
<p>Enter name of your mobile application.</p>
</li>
<li>
<p>Click <code>Create</code> button.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="provisioning"><a class="anchor" href="#provisioning"></a>Provisioning your First Service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Mobile Services provide commonly required features for mobile app development.</p>
</div>
<div class="paragraph">
<p>This section introduces the procedures for using Mobile Services by guiding you through the process using the Identity Management service. For a full list of available services, see <a href="con_services.html" class="page">Mobile Services</a></p>
</div>
<div class="paragraph">
<p>To provision the Identity Management mobile service:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log into the OpenShift console.</p>
</li>
<li>
<p>Choose a project where you have previously provisioned Mobile Developer Console.</p>
</li>
<li>
<p>Select <strong>Catalog</strong> from the left hand menu.</p>
<div class="paragraph">
<p>You can filter the catalog items to only show mobile specific items by selecting the <strong>Mobile</strong> tab.</p>
</div>
</li>
<li>
<p>Choose the Identity Management service.</p>
</li>
<li>
<p>Follow the wizard for provisioning that service.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If prompted to <strong>Create a Binding</strong>, choose <strong>Do not bind at this time</strong>.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When completing the Identity Management provisioning wizard, you are prompted to enter configuration data. For the purposes of this guide, keep the default values.
For more information about the Identity Management provisioning wizard fields, see <a href="#Identity Management-configuration-additional-resources">Identity Management Configuration</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Once the wizard steps are completed, navigate to the Project Overview in OpenShift to see the newly provisioned service.
Provisioning a service may take some time.</p>
</div>
<h3 id="Identity Management-configuration-additional-resources" class="discrete">Additional resources</h3>
<div class="sect3">
<h4 id="identity-management-configuration"><a class="anchor" href="#identity-management-configuration"></a>Identity Management Configuration</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Keycloak admin username</strong>: Username for Keycloak administration</p>
</li>
<li>
<p><strong>Keycloak admin password</strong>: Password for the Keycloak admin user</p>
</li>
<li>
<p><strong>Name of the Keycloak realm</strong>: Name of the keycloak realm. (defaults to current namespace)</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A realm manages a set of users, credentials, roles, and groups. A user belongs to and logs into a realm. Realms are isolated from one another and can only manage and authenticate the users that they control.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Connect to an existing shared service</strong>: Select if you want to use an existing service and you have the URL and credentials to use that service.</p>
</li>
<li>
<p><strong>URL of the shared service</strong>: Enter a value if you want to use an existing shared service.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="binding"><a class="anchor" href="#binding"></a>Binding a Mobile App with the Identity Management Service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To use mobile services, you must represent your mobile app in <strong>Mobile Developer Console</strong>, and that app must be associated with the mobile service.
This association is called <strong>binding</strong> and it is necessary for your mobile app to use that service.</p>
</div>
<div class="paragraph">
<p>To bind a Mobile App with a mobile service:</p>
</div>
<div class="sect2">
<h3 id="procedure-4"><a class="anchor" href="#procedure-4"></a>Procedure</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Launch Mobile Developer Console</p>
</li>
<li>
<p>Click on the Mobile App on the Overview screen</p>
</li>
<li>
<p>Navigate to <strong>Mobile Services</strong> tab.</p>
<div class="imageblock">
<div class="content">
<img src="_images/mobile-clients-services-all-unbound.png" alt="mobile clients services all unbound">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
It is possible to bind a Mobile App with a mobile service in the OpenShift console, however such bindings are not valid for the purposes of this procedure.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Press <strong>Bind to App</strong> in the Identity Management</p>
</li>
<li>
<p>Fill out the binding parameters required by the Identity Management Service.</p>
<div class="imageblock">
<div class="content">
<img src="_images/mobile-clients-services-idm-parameters.png" alt="mobile clients services idm parameters">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Use <code>Public</code> when binding a Mobile App to a Identity Management. When binding mobile services to each other, use <code>Bearer</code>.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>The Identity Management service will now be expandable, details about the service can be viewed.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/mobile-clients-services-all-idm-provisioned.png" alt="mobile clients services all idm provisioned">
</div>
</div>
</div>
<div class="sect2">
<h3 id="localdev"><a class="anchor" href="#localdev"></a>Configuring the Service</h3>
<div class="paragraph">
<p>The following section will guide you through configuring the schema of the redirect url and web origin for a client in Keycloak.
This is required to enable OpenID authentication.
For an explanation of these terms, see <a href="https://www.keycloak.org/documentation.html">Keycloak Documentation</a>.</p>
</div>
<div class="sect3">
<h4 id="choose-schema"><a class="anchor" href="#choose-schema"></a>Choose the schema of a redirect url</h4>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset3_android"></a>Android</p>
</li>
<li>
<p><a id="tabset3_ios"></a>iOS</p>
</li>
<li>
<p><a id="tabset3_cordova"></a>Cordova</p>
</li>
<li>
<p><a id="tabset3_xamarin"></a>Xamarin</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset3_android">
<div class="paragraph">
<p>It is recommended to use the package name of the Android app as the schema of the redirect url to avoid conflicts. (e.g. <code>com.aerogear.androidshowcase</code>)</p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset3_ios">
<div class="paragraph">
<p>It is recommended to use the Bundle Identifier of the iOS app as the schema of the redirect url. (e.g. <code>org.aerogear.ios-showcase-template</code>)</p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset3_cordova">
<div class="paragraph">
<p>Redirect url is <code>http://localhost/*</code>, without <code>:/callback</code>. Web Origin is <code>http://localhost/*</code>.</p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset3_xamarin">
<div class="paragraph">
<p>Depending on the platform, set the redirect as described in either the Android or the iOS tab.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="configuring-keycloak"><a class="anchor" href="#configuring-keycloak"></a>Configuring Keycloak</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log into the OpenShift console and navigate to the Project Overview.</p>
</li>
<li>
<p>Navigate to the Mobile App screen.</p>
</li>
<li>
<p>Select the Mobile Services tab.</p>
</li>
<li>
<p>If a binding to the Identity Management service is in progress, a spinning icon is displayed to the right of the Identity Management entry. Wait for the binding process to complete.</p>
</li>
<li>
<p>If the <em>Keycloak Realm URL</em> URL is not visible, expand the Identity Management Service by clicking the &gt; icon.</p>
</li>
<li>
<p>Click on the <strong>Keycloak Realm URL</strong> link to open the Keycloak Administration Console.</p>
</li>
<li>
<p>Log in to the Administration console using the credentials you specified when <a href="#provisioning">Provisioning</a> the service (defaults to admin:admin).</p>
</li>
<li>
<p>Select <code>Clients</code> from the left navigation menu.</p>
</li>
<li>
<p>Select your client from the list of clients. The name of your client is derived from the name of the Mobile App, the name of the mobile development platform and the client type, for example <code>myapp-android-public</code>.</p>
</li>
<li>
<p>Add <code>&lt;schema&gt;:/callback</code> as an additional entry to <code>Valid Redirect URIs</code>. See <a href="#choose-schema">Choose the schema of a redirect url</a> to determine the value for <code>&lt;schema&gt;</code>.</p>
</li>
<li>
<p>Add <code>&lt;schema&gt;</code> as an additional entry to <code>Web Origins</code>.  See <a href="#choose-schema">Choose the schema of a redirect url</a> to determine the value for <code>&lt;schema&gt;</code>.</p>
</li>
<li>
<p>Save your changes.</p>
</li>
<li>
<p>Create a new user account as described in <a href="https://www.keycloak.org/docs/3.3/server_admin/topics/users/create-user.html">Creating a New User</a>.</p>
</li>
<li>
<p>Set up credentials for the new user as described in <a href="https://www.keycloak.org/docs/3.3/server_admin/topics/users/credentials.html">User Credentials</a>.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="setting-up-your-local-development-environment"><a class="anchor" href="#setting-up-your-local-development-environment"></a>Setting Up your Local Development Environment</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="supported-environments"><a class="anchor" href="#supported-environments"></a>Supported Environments</h3>
<div class="paragraph">
<p>In order to perform local development, you will need to have set up a local development environment or IDE.
Mobile Services supports mobile app development across iOS Native, Android Native, Cordova and Xamarin.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You can only use the AeroGear Xamarin SDK to create iOS and Android Apps.
</td>
</tr>
</table>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset4_android"></a>Android</p>
</li>
<li>
<p><a id="tabset4_ios"></a>iOS</p>
</li>
<li>
<p><a id="tabset4_cordova"></a>Cordova</p>
</li>
<li>
<p><a id="tabset4_xamarin"></a>Xamarin</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset4_android">
<div class="paragraph">
<p>You need the following installed on your machine:</p>
</div>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> Android SDK or Android Studio from <a href="https://developer.android.com/studio/index.html" target="_blank" rel="noopener">Google</a></p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> (Recommended) The latest version of <a href="http://openjdk.java.net/install/index.html" target="_blank" rel="noopener">OpenJDK</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For information on how to set up a local Android development environment, see the <a href="https://developer.android.com/studio/install" target="_blank" rel="noopener">Android Studio documentation</a>.</p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset4_ios">
<div class="paragraph">
<p>You need the following installed on your machine:</p>
</div>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> iOS 9 or later</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> Xcode 9 or later</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> <a href="https://cocoapods.org" target="_blank" rel="noopener">CocoaPods</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The AeroGear SDK for iOS is available using the CocoaPods package manager.
If you have not installed CocoaPods, install it by running the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ gem install cocoapods</code></pre>
</div>
</div>
<div class="paragraph">
<p>For information on how to set up a local iOS development environment, see the <a href="https://developer.apple.com/library/archive/referencelibrary/GettingStarted/DevelopiOSAppsSwift/index.html" target="_blank" rel="noopener">Swift documentation</a>.</p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset4_cordova">
<div class="paragraph">
<p>You need the following installed on your machine:</p>
</div>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> <a href="https://nodejs.org/" target="_blank" rel="noopener">Node.js</a> version 8.9.4 runtime and NPM</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i>  <a href="https://cordova.apache.org/docs/en/latest/guide/cli/#installing-the-cordova-cli" target="_blank" rel="noopener">Cordova CLI</a> version 8.0.0</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For information on how to set up a local Cordova development environment, see the <a href="https://cordova.apache.org/#getstarted" target="_blank" rel="noopener">Cordova documentation</a>.</p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset4_xamarin">
<div class="paragraph">
<p>You need the following installed on your system:</p>
</div>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> Visual Studio Tools for Xamarin from <a href="https://www.visualstudio.com/xamarin/" target="_blank" rel="noopener">Microsoft</a></p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> (Optional) The latest version of <a href="http://openjdk.java.net/install/index.html" target="_blank" rel="noopener">OpenJDK</a>, if you would like to install the showcase app on an Android device or emulator</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> (Optional) The latest version of XCode and command line tools for XCode available from <a href="https://developer.apple.com/download/more/" target="_blank" rel="noopener">Apple</a>, if you would like to install the showcase app on an iOS device or emulator</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For information on how to set up a local Xamarin development environment, see the <a href="https://developer.xamarin.com/getting-started/" target="_blank" rel="noopener">Xamarin documentation</a>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="running"><a class="anchor" href="#running"></a>Running your First Mobile App</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="cloning-the-showcase-app"><a class="anchor" href="#cloning-the-showcase-app"></a>Cloning the Showcase App</h3>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset5_android"></a>Android</p>
</li>
<li>
<p><a id="tabset5_ios"></a>iOS</p>
</li>
<li>
<p><a id="tabset5_cordova"></a>Cordova</p>
</li>
<li>
<p><a id="tabset5_xamarin"></a>Xamarin</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset5_android">
<div class="paragraph">
<p>$ git clone <a href="https://github.com/aerogear/android-showcase-template.git" class="bare">https://github.com/aerogear/android-showcase-template.git</a>
$ cd android-showcase-template
$ git checkout 1.0.0</p>
</div>
<div class="listingblock">
<div class="content">
<pre></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset5_ios">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ git clone https://github.com/aerogear/ios-showcase-template.git
$ cd ios-showcase-template
$ git checkout 1.0.0</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset5_cordova">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ git clone https://github.com/aerogear/cordova-showcase-template.git
$ cd cordova-showcase-template
$ git checkout 1.0.0</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset5_xamarin">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ git clone https://github.com/aerogear/xamarin-showcase-template.git
$ cd xamarin-showcase-template
$ git checkout 1.0.0</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="downloading-the-mobile-services-configuration-file"><a class="anchor" href="#downloading-the-mobile-services-configuration-file"></a>Downloading the Mobile Services Configuration File</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open your Mobile App in Mobile Developer Console.</p>
</li>
<li>
<p>Copy the <code>mobile-services.json</code> configuration to your clipboard.</p>
</li>
<li>
<p>Save the contents of the clipboard to a new file called <code>mobile-services.json</code>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The mobile-services.json file is the link between your provisioned services on OpenShift and the mobile app you are developing. This file provides all required configuration to initialise the various SDKs and get them hooked up/connected to the back-end services.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Follow the platform-specific instructions:</p>
</li>
</ol>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset6_android"></a>Android</p>
</li>
<li>
<p><a id="tabset6_ios"></a>iOS</p>
</li>
<li>
<p><a id="tabset6_cordova"></a>Cordova</p>
</li>
<li>
<p><a id="tabset6_xamarin"></a>Xamarin</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset6_android">
<div class="paragraph">
<p>Move mobile-services.json to the following location in your application project:</p>
</div>
<div class="paragraph">
<p><code>app/src/main/assets/mobile-services.json</code></p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset6_ios">
<div class="paragraph">
<p>Move mobile-services.json to the following location in your application project:</p>
</div>
<div class="paragraph">
<p><code>&lt;app directory&gt;/mobile-services.json</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Ensure that <code>mobile-services.json</code> is a member of the project in the Xcode Project Navigator.
</td>
</tr>
</table>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset6_cordova">
<div class="paragraph">
<p>Move mobile-services.json to the following location in your application project:</p>
</div>
<div class="paragraph">
<p><code>src/mobile-services.json</code></p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset6_xamarin">
<div class="paragraph">
<p>Move mobile-services.json to the following location in your application project:</p>
</div>
<div class="paragraph">
<p><code>Resources/mobile-services.json</code></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="building-the-app"><a class="anchor" href="#building-the-app"></a>Building the app</h3>

</div>
<div class="sect2">
<h3 id="using-self-signed-certificates-in-mobile-apps"><a class="anchor" href="#using-self-signed-certificates-in-mobile-apps"></a>Using Self-Signed Certificates in Mobile Apps</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Before you can run a mobile app and connect to Mobile Services, you must configure self-signed certificates on the mobile device.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Throughout the development lifecycle of a mobile app, a common
requirement is to integrate and connect with back-end
services in a secure manner. This is achieved using SSL/TLS.</p>
</div>
<div class="paragraph">
<p>However, in order for the client device to connect over SSL/TLS, it needs to trust the
certificates used by the back-end services, which are signed by a certificate authority.
Most client devices have a list of well-known and trusted certificate authorities pre-installed and this allows the client devices to verify the certificates used by the back-end services.</p>
</div>
<div class="paragraph">
<p>However, this normally doesn&#8217;t work in a development environment, such as a local OpenShift cluster as it uses self-signed certificates which are not signed by any of the trusted certificate authorties. This means by default the client devices won&#8217;t be able to establish secure connections with the back-end services that are running on a local OpenShift cluster.</p>
</div>
<div class="paragraph">
<p>To work around the problem, you must manually extract the root certificate from the cluster, install it on the device and mark it as trusted.</p>
</div>
<div class="sect3">
<h4 id="extracting-root-ca"><a class="anchor" href="#extracting-root-ca"></a>1. Extracting the OpenShift Root Certificate Authority Cert</h4>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Log into OpenShift as the admin user:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ oc login -u system:admin</code></pre>
</div>
</div>
</li>
<li>
<p>Run the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ oc get secret router-certs --template='{{index .data "tls.crt"}}' -n default  |  \
base64 --decode | sed -e '1,/^-----END RSA PRIVATE KEY-----$/ d'  &gt; /tmp/localcluster.crt</code></pre>
</div>
</div>
<div class="paragraph">
<p>The resulting file is located in the <code>/tmp</code> directory.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="installing-on-device"><a class="anchor" href="#installing-on-device"></a>2. Installing the OpenShift Root Certificate Authority Cert on a Device</h4>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset7_android"></a>Android</p>
</li>
<li>
<p><a id="tabset7_ios"></a>iOS</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset7_android">
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><a href="https://support.google.com/android/answer/2819522?hl=en">Set screen lock</a> on the mobile device to ensure the certificate can be installed.</p>
</li>
<li>
<p>Copy the file to your device using one of the following methods:</p>
<div class="ulist">
<ul>
<li>
<p>Email attachment (Recommended) - Simply email the certificate to an address
accessible from the device and download the attachment.</p>
</li>
<li>
<p>Cloud service - Use a cloud storage service such as Dropbox or Google
Drive which is accessible from the device, browse to the certificate and
proceed to download it.</p>
</li>
<li>
<p>USB - Attach the device to the machine hosting
OpenShift via USB and drag the certificate to a devices file system. Here is an <a href="https://support.google.com/nexus/answer/2840804?hl=en">example guide for Google Nexus devices</a>. It may be different for other devices.</p>
</li>
<li>
<p><a href="https://developer.android.com/studio/command-line/adb" target="_blank" rel="noopener">Android Debug Bridge</a> (adb) - Use the adb push command to push the certificate to device or emulator:</p>
<div class="listingblock">
<div class="content">
<pre>$ adb push /tmp/localcluster.crt /sdcard/Download/localcluster.crt</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Add the certificate to your device:</p>
<div class="paragraph">
<p>If you are using the email or cloud service approach, once the certificate file is downloaded, you will be prompted by the Android system automatically to install the file. You can simply follow the instructions to complete the process.</p>
</div>
<div class="paragraph">
<p>However, if you are using the USB approach, you will need to install the certificate manually: go to Settings &gt; Security &gt; Install from storage, tap on the copied certificate file and Android system should detect the
certificate and let you add it to the device. Here is <a href="https://support.google.com/nexus/answer/2844832?hl=en">a sample guide for Google Nexus devices</a>.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset7_ios">
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enable <a href="https://support.apple.com/en-us/ht204060">Passcode</a> or <a href="https://support.apple.com/en-us/ht201371">TouchID</a> protection on the mobile device to ensure the certificate can be installed.</p>
</li>
<li>
<p>Copy the file to your device using one of the following methods:</p>
<div class="ulist">
<ul>
<li>
<p>Email attachment (Recommended) - Simply email the certificate to an address
accessible from the device and download the attachment.</p>
</li>
<li>
<p>Cloud service - Use a cloud storage service such as Dropbox or Google
Drive which is accessible from the device, browse to the certificate and
proceed to download it.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Add the certificate to your device:</p>
<div class="paragraph">
<p>When you download the certificate, the
device should automatically detect a profile. Simply follow the on
screen instructions to install it.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Versions iOS 10.3 and later require an additional step to trust the now
installed certificate. Instructions can be found on the
<a href="https://support.apple.com/en-us/HT204477">Apple support site</a>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="running-the-app-in-an-emulator"><a class="anchor" href="#running-the-app-in-an-emulator"></a>Running the app in an emulator</h3>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset8_android"></a>Android</p>
</li>
<li>
<p><a id="tabset8_ios"></a>iOS</p>
</li>
<li>
<p><a id="tabset8_cordova"></a>Cordova</p>
</li>
<li>
<p><a id="tabset8_xamarin"></a>Xamarin</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset8_android">
<div class="paragraph">
<p>To run an Android app in an emulator, see the following <a href="https://developer.android.com/training/basics/firstapp/running-app" target="_blank" rel="noopener">documentation</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The AeroGear SDK supports API level 21 or later.
</td>
</tr>
</table>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset8_ios">
<div class="paragraph">
<p>To run an iOS app in an emulator, see the following <a href="https://help.apple.com/xcode/mac/current/#/dev2809b6cff" target="_blank" rel="noopener">documentation</a>.</p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset8_cordova">
<div class="paragraph">
<p>Cordova cross-platform applications can be run in the following emulators:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://cordova.apache.org/docs/en/2.7.0/guide/command-line/#android" target="_blank" rel="noopener">Android</a></p>
</li>
<li>
<p><a href="https://cordova.apache.org/docs/en/2.7.0/guide/command-line/#ios" target="_blank" rel="noopener">iOS</a></p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A running emulator on macOS is required to run an iOS application.
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset8_xamarin">
<div class="paragraph">
<p>Xamarin cross-platform applications are run in the following emulators:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://blogs.msdn.microsoft.com/visualstudio/2018/05/08/hyper-v-android-emulator-support/" target="_blank" rel="noopener">Android</a></p>
</li>
<li>
<p><a href="https://developer.xamarin.com/getting-started-ios/" target="_blank" rel="noopener">iOS</a></p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A running emulator on macOS is required to run an iOS application.
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>From the showcase app:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Press the <strong>Authenticate</strong> menu item. A login screen is displayed.</p>
</li>
<li>
<p>Log in using the credentials you set up with setting up the service.</p>
<div class="paragraph">
<p>Once the login is successful, you will be taken back to the showcase
application where you can see the roles and basic information of the user you have just logged in with.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
</article>
  </main>
</div>
<footer class="footer">
  <div class="container">
    <div class="row">

      <div class="col-sm-4">
        <h5>Mobile Services</h5>
        <ul class="list-unstyled">
         <li><a href="https://aerogear.org/services/identity-management/">Identity Management</a></li>
         <li><a href="https://aerogear.org/services/push/">Push Notifications</a></li>
         <li><a href="https://aerogear.org/services/metrics/">Mobile Metrics</a></li>
         <li><a href="https://aerogear.org/services/mobile-ci-cd/">Mobile CI/CD</a></li>
         <li><a href="https://aerogear.org/services/device-security/">Device Security</a></li>
        </ul>
      </div><!-- col -->

      <div class="col-sm-4">
        <h5>Mobile SDKs</h5>
        <ul class="list-unstyled">
         <li><a href="https://aerogear.org/sdks/android/">Android</a></li>
         <li><a href="https://aerogear.org/sdks/cordova/">Cordova</li>
         <li><a href="https://aerogear.org/sdks/ios/">iOS</a></li>
         <li><a href="https://aerogear.org/sdks/xamarin/">Xamarin</a></li>
        </ul>
      </div><!-- col -->
      
      <div class="col-sm-4">
        <h5>COMMUNITY</h5>
        <ul class="list-unstyled">
          <li><a target="_blank" href="https://github.com/aerogear/">GitHub - Aerogear</a></li>
          <li><a target="_blank" href="https://github.com/aerogearcatalog/">GitHub - Aerogear Catalog</a></li>
          <li><a target="_blank" href="https://issues.jboss.org/browse/AEROGEAR">Jira Repo Issues</a></li>
          <li><a  href="https://aerogear.org/community/contribution-guide/">Contribution Guide</a></li>
          <li><a target="_blank" href="https://groups.google.com/forum/#!forum/aerogear">Google Group</a></li>
          <li><a href="irc://irc.freenode.net/aerogear">IRC</a></li>
        </ul>
      </div><!-- col -->

      <div class="col-sm-12 follow">
        <h5>FOLLOW US</h5>
        <ul class="list-inline">
          <li><a target="_blank" href="https://www.twitter.com/aerogears"><i class="fa fa-twitter-square"></i> Twitter</a></li>
          <li><a target="_blank" href="https://www.youtube.com/channel/UCgDcDoN2b7cEI63fgpxACBA"><i class="fa fa-youtube"></i> YouTube</a></li>
          <li><a target="_blank" href="https://aerogear.org/news"><i class="fa fa-rss-square"></i> Feed</a></li>
        </ul>
        
        <p>The AeroGear project is licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a>, and is subject to the <a href="https://aerogear.org/legal/export.html">Export Policy</a>.</p>
      </div><!-- col -->
    
    </div><!-- row -->

  </div><!-- container -->

</footer><!-- footer -->

<section class="redhat">
  <div class="container">
    <p class="text-center">
      <a href="http://www.redhat.com/">
        <img src="/_/img/redhatlogo-wite.png" alt="redhatlogo-wite" width="130">
      </a>
    </p>       
  </div><!-- container -->
</section>
<script src="../../_/js/site.js"></script>
<script src="../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
  </body>
</html>
