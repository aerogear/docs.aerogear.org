<!DOCTYPE html>
<html lang="en">
  <head>
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link href="https://stackpath.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-8+rznmq/k0KZkJlZhnuPEVkbRD7tA0wcFEjY48dajGWn3Xc1MasJwS8/tJ7OEsKW" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-1.9.1.min.js" integrity="sha256-wS9gmOZBqsqWxgIVgA8Y9WcQOa7PgSIX+rPA0VL2rbQ=" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js" integrity="sha384-Nud2SriDt2fZ+u85IBC48Yn9p+l4AGlapnX1EGA2KrnZjYJx8sxKnw/CIxc1wU1B" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/js-url/2.5.3/url.js"></script>
<script>
function addBlockSwitches() {
	$('.primary').each(function() {
		primary = $(this);
		createSwitchItem(primary, createBlockSwitch(primary)).item.addClass("selected");
		primary.children('.title').remove();
	});
	$('.secondary').each(function(idx, node) {
		secondary = $(node);
		primary = findPrimary(secondary);
		switchItem = createSwitchItem(secondary, primary.children('.switch'));
		switchItem.content.addClass('hidden');
		findPrimary(secondary).append(switchItem.content);
		secondary.remove();
	});
}

function createBlockSwitch(primary) {
	blockSwitch = $('<div class="switch"></div>');
	primary.prepend(blockSwitch);
	return blockSwitch;
}

function findPrimary(secondary) {
	candidate = secondary.prev();
	while (!candidate.is('.primary')) {
		candidate = candidate.prev();
	}
	return candidate;
}

function createSwitchItem(block, blockSwitch) {
	blockName = block.children('.title').text();
	content = block.children('.content').first().append(block.next('.colist'));
	item = $('<div class="switch--item">' + blockName + '</div>');
	item.on('click', '', content, function(e) {
		$(this).addClass('selected');
		$(this).siblings().removeClass('selected');
		e.data.siblings('.content').addClass('hidden');
		e.data.removeClass('hidden');
	});
	blockSwitch.append(item);
	return {'item': item, 'content': content};
}

$(addBlockSwitches);

Zepto(function($){
	if (url('?header') === 'false') {
		// Hide the navbar for showcase apps (#nochrome)
		$('body').addClass('nochrome');
	}
})
</script>


    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Using the Push Notifications Mobile Service :: AeroGear Mobile Services</title>
    <link rel="canonical" href="https://docs.aerogear.org/aerogear/latest/push-notifications.html">
    <meta name="generator" content="Antora 2.0.0">
    <link rel="stylesheet" href="../../_/css/site.css">
<link rel="icon" href="../../_/img/favicon.png" type="image/x-icon">
  </head>
  <body class="article">
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/index.html">AeroGear</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        
        <li>
          <a href="https://aerogear.org">Home</a>
        </li>

        <li>
          <a href="https://aerogear.org/getting-started/">Getting Started</a>
        </li>

        <li>
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Mobile Services<span class="caret"></span></a>
            <ul class="dropdown-menu" role="menu">
              <li>
                <a href="https://aerogear.org/services/identity-management/">
                  <i class="material-icons" aria-hidden="true">account_circle</i> Identity Management
                </a>
              </li>
              <li>
                <a href="https://aerogear.org/services/push/">
                  <i class="material-icons" aria-hidden="true">notifications_active</i> Push Notifications
                </a>
              </li>
              <li>
                <a href="https://aerogear.org/services/metrics/">
                  <i class="material-icons" aria-hidden="true">insert_chart</i> Mobile Metrics
                </a>
              </li>
              <li>
                <a href="https://aerogear.org/services/mobile-ci-cd/">
                  <i class="material-icons" aria-hidden="true">build</i> Mobile CI/CD
                </a>
              </li>
              <li>
                <a href="https://aerogear.org/services/device-security/">
                  <i class="material-icons" aria-hidden="true">security</i> Device Security
                </a>
              </li>
            </ul>
        </li>

        <li>
          <a href="https://aerogear.org/sdks">Mobile SDKs</a>
        </li>

        <li>
         <a href="https://docs.aerogear.org/">Docs</a>
        </li>
   
        <li>
          <a href="https://aerogear.org/community">Community</a>
        </li>
        

        <li>
          <a href="https://aerogear.org/news">News</a>
        </li>
        
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav><div class="main-wrapper">
<div class="navigation-container" data-component="aerogear" data-version="latest">
  <aside class="navigation" role="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">Mobile Services</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="getting-started.html">Getting Started</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="getting-started.html#introduction">Introduction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="getting-started-installing.html">Installing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="getting-started-installing.html#setting-up-aerogear-mobile-services-on-openshift">Setting Up</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="getting-started-installing.html#provision-mdc">Provisioning Mobile Developer Console</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="getting-started-configuring.html">Configuring</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="getting-started-configuring.html#registering">Registering a Mobile App</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="getting-started-configuring.html#provisioning">Provisioning a Service</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="getting-started-configuring.html#binding">Binding Services</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="getting-started-running.html">Developing and Running</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="getting-started-running.html#setting-up-your-local-development-environment">Setting Up Development Environment</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="getting-started-running.html#running">Running a Mobile App</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="mobile-developer-console.html">Mobile Developer Console</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mobile-developer-console.html#introduction">Introduction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mobile-developer-console.html#provision-mdc">Provisioning Mobile Developer Console</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="mobile-developer-console.html#registering">Registering a Mobile App</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-developer-console.html#sdk">Configure SDK</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mobile-developer-console.html#services">Using mobile services</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mobile-developer-console.html#building">Building Mobile Apps</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="con_services.html">Mobile Services</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="identity-management.html">Identity Management</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="identity-management.html#introduction">Introduction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="identity-management.html#setting-up-the-idm-service">Setting Up</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="identity-management.html#adding-user-authentication-to-your-mobile-app">User Authentication</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="identity-management.html#access">Access Control</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="identity-management.html#adding-sso-to-your-mobile-app">Single Sign On</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="identity-management.html#monitoring">Monitoring Identity Management</a>
  </li>
</ul>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="push-notifications.html">Push Notifications</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#introduction">Introduction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#setting-up-the-push-service">Setting Up</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#sending-a-push-notification-push">Sending a Notification</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#handling-push-notifications-push">Handling a Notification</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="mobile-metrics.html">Mobile Metrics</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-metrics.html#introduction">Introduction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-metrics.html#setting-up-the-metrics-service">Setting Up</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-metrics.html#analysing-app-usage-metrics">App and Device</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-metrics.html#monitoring-idm-with-metrics">Monitoring IDM Service</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-metrics.html#monitoring-sync-with-metrics">Monitoring Data Sync Service</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-metrics.html#viewing-dashboards-metrics">Using Dashboards</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="mobile-cicd.html">Mobile CI/CD</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-cicd.html#introduction">Introduction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-cicd.html#setup">Setting Up</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-cicd.html#build-config">Creating a Build Configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-cicd.html#jenkins">Adding a Jenkins file</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-cicd.html#building">Building Apps</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-cicd.html#logs">Accessing Build Logs</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-cicd.html#deploy">Deploying Apps</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="mobile-cicd.html#clean">Cleaning up Builds</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="data-sync.html">Data Sync</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="data-sync.html#introduction">Introduction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="data-sync.html#sync-server">Voyager Server</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="data-sync.html#sync-server-getting-started">Getting Started</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="data-sync.html#sync-server-offline-and-conflict">Offline and Conflicts</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="data-sync.html#sync-server-data-access">Data Access</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="data-sync.html#sync-server-realtime-updates">Realtime Updates</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="data-sync.html#sync-server-auth">Authentication and Authorization</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="data-sync.html#server-files">File Upload</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="data-sync.html#sync-server-metrics">Metrics</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="data-sync.html#sync-server-audit-logs">Audit Logs</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="data-sync.html#sync-js-client">Voyager Client</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="data-sync.html#sync-js-basic-concepts">Introduction</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="data-sync.html#sync-js-client-getting-started">Getting Started</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="data-sync.html#sync-js-client-offline-and-conflict">Offline and Conflicts</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="data-sync.html#sync-js-client-realtime-updates">Realtime Updates</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="data-sync.html#sync-js-client-auth">Authentication and Authorization</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="data-sync.html#js-client-files">File Upload</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="data-sync.html#sync-js-client-audit-logs">Audit Logs</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="data-sync.html#sync-js-client-advanced-topics">Advanced Topics</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="data-sync.html#sync-server-openshift">Running Data Sync in OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="data-sync.html#sync-server-getting-started-openshift">Overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="data-sync.html#building-and-publishing-the-container">Prepare Container</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="data-sync.html#provisioning-data-sync-service">Provisioning Overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="data-sync.html#sync-server-getting-started-mdc-client">Configuring Mobile App</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="data-sync.html#sync-server-binding">Binding Mobile App</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="data-sync.html#sync-server-binding-keycloak">Binding KeyCloak</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="device-security.html">Device Security</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="device-security.html#introduction">Introduction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="device-security.html#setup">Setting Up</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="device-security.html#device-trust">Performing Device Trust Checks</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="device-security.html#cert-pinning">Certificate Pinning</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="showcase-apps.html">Showcase Apps</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="showcase-apps.html#setup">Service Setup</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="showcase-apps.html#app">Showcase App Setup</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="showcase-apps.html#binding">Service Binding</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="showcase-apps.html#downloading-the-mobile-services-configuration-file">Downloading the Mobile Services Configuration File</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="showcase-apps.html#build">Building and Running the Showcase Apps</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="showcase-apps.html#certs">Using Self Signed Certs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="showcase-apps.html#features">Demonstrating the Showcase App Features</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="supported_versions.html">Supported Versions</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="ref_api.html">API Reference</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="mobile-cli.html">Mobile CLI</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="glossary.html">Glossary</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">Mobile Services</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Mobile Services</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">latest</a>
        </li>
        <li class="version">
          <a href="../v1.0/index.html">v1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main" role="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
  <a href="getting-started.html" class="home-link"></a>
<nav class="crumbs" role="navigation" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="con_services.html">Mobile Services</a></li>
    <li class="crumb"><a href="push-notifications.html">Push Notifications</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="versions-menu-toggle" title="Show other versions of page">latest</button>
  <div class="versions-menu">
    <a class="version is-current" href="push-notifications.html">latest</a>
    <a class="version" href="../v1.0/push-notifications.html">v1.0</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/aerogear/mobile-docs/edit/master/modules/ROOT/pages/push-notifications.adoc"></a></div>
</div>
<article class="doc">
<h1>Using the Push Notifications Mobile Service</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#push-terminology-push">Push Notifications Terminology</a></li>
<li><a href="#setting-up-the-push-service">Setting Up the Push Notifications Mobile Service</a>
<ul class="sectlevel2">
<li><a href="#obtaining_firebase_cloud_messaging_credentials-push">Obtaining Firebase Cloud Messaging Credentials</a></li>
<li><a href="#enable_push_notifications_for_ios_app-push">Obtaining Apple Push Notification Service Credentials</a></li>
<li><a href="#provisioning-the-push">Provisioning the Push Notifications Service</a></li>
<li><a href="#binding-an-app-to-push">Binding a Mobile App with the Push Notifications Service</a></li>
</ul>
</li>
<li><a href="#configuring-your-development-environment-for-the-push-notifications-service">Configuring your development environment for the Push Notifications Service</a>
<ul class="sectlevel2">
<li><a href="#downloading-the-configuration-file-push">Downloading the Configuration File</a></li>
<li><a href="#setting-up-sdk-push">Setting up the Push Notifications Service SDK</a></li>
</ul>
</li>
<li><a href="#sending-a-push-notification-push">Sending a Push Notification using the Unified Push Admin UI</a></li>
<li><a href="#handling-push-notifications-push">Handling Incoming Push Notifications</a></li>
<li><a href="#additional-resources">Additional resources</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div id="introduction" class="paragraph">
<p>The Push Notifications service allows you to send native push notifications to different mobile operating systems.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Code once and push notifications to iOS and Android.</p>
</li>
<li>
<p>Push notifications to defined groups.</p>
</li>
<li>
<p>Push notifications to either iOS only or Android only.</p>
</li>
<li>
<p>Push notifications to different variants of a mobile app.</p>
</li>
<li>
<p>Push notifications from different back-end apps to the same mobile app.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Currently the service supports:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://developer.apple.com/notifications/" target="_blank" rel="noopener">Apple Push Notification Service</a></p>
</li>
<li>
<p><a href="https://firebase.google.com/products/cloud-messaging/" target="_blank" rel="noopener">Firebase Cloud Messaging</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Push Notifications service offers a unified Notification Service API to the above mentioned Push Network Services.
It can be seen as a <em>broker</em> that distributes push messages to different 3rd party Push Networks.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>The payload of the push notification is delivered to 3rd party Push Network providers, Google or Apple. AeroGear recommends that users do not send any sensitive personal or confidential information (for example, a social security number, financial account or transactional information) as part of any Push Notification. Users of push notifications should not have an expectation of secure transmission.</p>
</li>
<li>
<p>For analytic purposes, the service stores the content of the alert key sent to the UnifiedPush Server.
The content of the alert key belongs to the metadata, which is deleted after 30 days, using a nightly job within the UnifiedPush Server.</p>
</li>
<li>
<p>You are only able to send push notifications to a real device, sending push notifications to an emulator fails.</p>
</li>
<li>
<p>Push is a signalling mechanism and is not suitable to be used as a data carrying system, for example, a chat application.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You understand Push Notifications.</p>
</li>
<li>
<p>You have logged into the OpenShift console and the Mobile Developer Console.</p>
</li>
<li>
<p>You are developing an Ionic app, plain Cordova is not supported.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="push-terminology-push"><a class="anchor" href="#push-terminology-push"></a>Push Notifications Terminology</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes terminology that is associated with Push Notifications.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Push Application</dt>
<dd>
<p>A logical construct that represents an Mobile App, for example, <em>Mobile HR</em>.</p>
</dd>
<dt class="hdlist1">Push Notification Message</dt>
<dd>
<p>A simple message to be sent to a Push Application.</p>
</dd>
<dt class="hdlist1">Sender Endpoint API</dt>
<dd>
<p>A RESTful API that receives Push Notification Message requests for a PushApplication or some of its different Variants. The Server translates this request into the platform specific details and delivers the payload to the 3rd party cloud providers, which eventually might deliver the message to the physical device.</p>
</dd>
<dt class="hdlist1">Variant</dt>
<dd>
<p>A variant of the Push Application, representing a specific mobile platform, like iOS or Android, or even more fine-grained differentiation like iPad or iPhone.
There can be multiple variants for a single Push Application (for example, <em>Mobile HR Android</em>, <em>Mobile HR iPad</em>, <em>Mobile HR iOS free</em> or _Mobile HR iOS premium).
Each supported variant type contains some platform specific properties, such as a Google API key (Android) or passphrase and certificate (Apple).</p>
</dd>
<dt class="hdlist1">APNs</dt>
<dd>
<p><a href="https://developer.apple.com/library/archive/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/APNSOverview.html#//apple_ref/doc/uid/TP40008194-CH8-SW1">Apple Push Notification service</a>.</p>
</dd>
<dt class="hdlist1">Installation</dt>
<dd>
<p>Represents an actual device, registered with the UnifiedPush Server. User1 running <em>HR Android</em> app, while User2 runs <em>HR iPhone premium</em> on his phone.</p>
</dd>
<dt class="hdlist1">Administrative User Interface</dt>
<dd>
<p>(AUI) The Unified Push Admin UI Web UI that allows you manage Push Applications and Variants, view statistics and send Push Notifications to devices.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="setting-up-the-push-service"><a class="anchor" href="#setting-up-the-push-service"></a>Setting Up the Push Notifications Mobile Service</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="obtaining_firebase_cloud_messaging_credentials-push"><a class="anchor" href="#obtaining_firebase_cloud_messaging_credentials-push"></a>Obtaining Firebase Cloud Messaging Credentials</h3>
<div class="paragraph">
<p>This procedure describes how to obtain Firebase Cloud Messaging Credentials.</p>
</div>
<div class="paragraph">
<div class="title">Prerequisites</div>
<p>Before the Android application is able to receive the notifications, you must set up access to Firebase Cloud Messaging.
The following credentials are necessary to set up Firebase Cloud Messaging for your app:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Server key</strong></p>
</li>
<li>
<p><strong>Sender ID</strong></p>
</li>
<li>
<p><code>google-services.json</code> file containing the credentials required to connect your app to Firebase and Google services.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>From the <em>Project Settings</em> screen, switch to the <em>Cloud Messaging</em> tab, where you can find the <strong>Server key</strong> and <strong>Sender ID</strong> (known in GCM as <strong>Project Number</strong>). There is also a <em>Legacy server key</em> but it should not be used for new projects.</p>
</li>
<li>
<p>Download the <code>google-services.json</code> file as described in the <a href="https://support.google.com/firebase/answer/7015592?hl=en" target="_blank" rel="noopener">Google Documentation</a>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="enable_push_notifications_for_ios_app-push"><a class="anchor" href="#enable_push_notifications_for_ios_app-push"></a>Obtaining Apple Push Notification Service Credentials</h3>
<div class="paragraph">
<p>This procedure describes how to enable Push Notifications for your iOS application and get the credentials required for push from Apple.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Follow the <a href="https://help.apple.com/xcode/mac/current/#/devdfd3d04a1">official Apple guide</a> to enable push notifications for your Xcode project.</p>
</li>
<li>
<p>Follow the <a href="https://help.apple.com/developer-account/#/dev82a71386a">official Apple guide</a> to generate an APNs client TLS certificate and export the client TLS identity from your Mac.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Make sure to protect the p12 file with a password.</p>
</div>
<div class="paragraph">
<p>The exported p12 file with the password will be used later when binding your Mobile App to the Push Notifications.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="provisioning-the-push"><a class="anchor" href="#provisioning-the-push"></a>Provisioning the Push Notifications Service</h3>
<div class="paragraph">
<p>This section describes how to set up the Push Notifications Mobile Service.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log into the OpenShift console.</p>
</li>
<li>
<p>Create a new project or choose an existing project.</p>
</li>
<li>
<p>Click <strong>Add to Project</strong> and choose <strong>Browse Catalog</strong> from the options.</p>
<div class="paragraph">
<p>You can filter the catalog items to only show mobile specific items by clicking the <strong>Mobile</strong> tab.</p>
</div>
</li>
<li>
<p>Click <strong>Services</strong> and choose the  service.</p>
<div class="imageblock">
<div class="content">
<img src="_images/catalog-mobile-services.png" alt="catalog mobile services">
</div>
</div>
</li>
<li>
<p>Follow the wizard for provisioning that service.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If prompted to <strong>Create a Binding</strong>, choose <strong>Do not bind at this time</strong>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Once the wizard steps are completed, navigate to the Project Overview in OpenShift to see the newly provisioned service.
Provisioning a service may take some time.</p>
</div>
</div>
<div class="sect2">
<h3 id="binding-an-app-to-push"><a class="anchor" href="#binding-an-app-to-push"></a>Binding a Mobile App with the Push Notifications Service</h3>
<div class="paragraph">
<p>To use mobile services, you must represent your mobile app in <strong>Mobile Developer Console</strong>, and that app must be associated with the mobile service.
This association is called <strong>binding</strong> and it is necessary for your mobile app to use that service.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have created a Mobile App.</p>
</li>
</ul>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset1_android"></a>Android</p>
</li>
<li>
<p><a id="tabset1_ios"></a>iOS</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset1_android">
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> Google account</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> Access to the Firebase console. Refer to <a href="https://firebase.google.com/docs/">Firebase Docs</a>.</p>
</li>
</ul>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset1_ios">
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> Apple Developer account</p>
</li>
<li>
<p><i class="fa fa-check-square-o"></i> APNs client TLS certificate. Refer to <a href="https://help.apple.com/developer-account/#/dev82a71386a">official Apple guide</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Procedure</div>
<p>To bind a Mobile App with a mobile service:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log in to the Mobile Developer Console.</p>
</li>
<li>
<p>Click on the Mobile App on the Overview screen.</p>
</li>
<li>
<p>Navigate to <strong>Mobile Services</strong> tab.</p>
<div class="imageblock">
<div class="content">
<img src="_images/mobile-clients-services-all-unbound.png" alt="mobile clients services all unbound">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
It is possible to bind a Mobile App with a mobile service in the OpenShift console, however such bindings are not valid for the purposes of this procedure.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Press <strong>Bind to App</strong> in the .</p>
</li>
<li>
<p>Fill out the binding parameters required by the  Service.</p>
<div class="paragraph">
<p>When you bind a mobile client to the Push Notifications service, a variant is created to store the credentials required to communicate with a push network.
Those credentials need to be provided in the binding dialog.</p>
</div>
<div class="paragraph">
<p>Choose a <strong>Mobile Client Type</strong> and fill out the required fields:</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset2_android"></a>Android</p>
</li>
<li>
<p><a id="tabset2_ios"></a>iOS</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset2_android">
<div class="ulist">
<ul>
<li>
<p>Select <code>Android</code> from in the <code>Mobile Client Type</code> list.</p>
</li>
<li>
<p>Enter a <strong>Server Key</strong> and a <strong>Sender ID</strong>. Both are present in the Firebase console.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/mobile-clients-services-push-parameters-android.png" alt="mobile clients services push parameters android">
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset2_ios">
<div class="ulist">
<ul>
<li>
<p>Select <code>iOS</code> from the <code>Mobile Client Type</code> list.</p>
</li>
<li>
<p>Obtain an APNs client TLS certificate. Refer to <a href="https://help.apple.com/developer-account/#/dev82a71386a">official Apple guide</a>.</p>
</li>
<li>
<p>Encode the certificate using base64 and paste the encoded certificate into the field labeled <code>iOS .p12 file</code>.</p>
<div class="paragraph">
<p>If you are using macOS:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cat &lt;path/to/your/.p12&gt; | base64</pre>
</div>
</div>
<div class="paragraph">
<p>If you are using Linux and a version of <code>base64</code> that wraps lines, disable line wrapping as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cat &lt;path/to/your/.p12&gt; | base64 --wrap=0</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/mobile-clients-services-push-parameters-ios.png" alt="mobile clients services push parameters ios">
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>After clicking <strong>Create</strong> your variant will be created in UPS and you should see a new binding for your mobile client. A variant is used for the storage of the credentials provided in the Binding procedure.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-your-development-environment-for-the-push-notifications-service"><a class="anchor" href="#configuring-your-development-environment-for-the-push-notifications-service"></a>Configuring your development environment for the Push Notifications Service</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="downloading-the-configuration-file-push"><a class="anchor" href="#downloading-the-configuration-file-push"></a>Downloading the Configuration File</h3>
<div class="paragraph">
<p>The <code>mobile-services.json</code> file provides the information for your mobile app to communicate with services.
After you change any configuration in the Mobile Developer Console, it is important to update that file in your IDE.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>The configuration of your Mobile App in Mobile Developer Console is up-to-date.</p>
</li>
<li>
<p>You have set up your mobile app development environment.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Open your Mobile App in Mobile Developer Console.</p>
</li>
<li>
<p>Copy the <code>mobile-services.json</code> configuration to your clipboard.</p>
</li>
<li>
<p>Save the contents of the clipboard to a new file called <code>mobile-services.json</code>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>mobile-services.json</code> file is the link between your provisioned services on OpenShift and the mobile app you are developing. This file provides all required configuration to initialise the various SDKs and get them hooked up/connected to the back-end services.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Move <code>mobile-services.json</code> to the following location in your application project:</p>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset3_android"></a>Android</p>
</li>
<li>
<p><a id="tabset3_ios"></a>iOS</p>
</li>
<li>
<p><a id="tabset3_cordova"></a>Cordova</p>
</li>
<li>
<p><a id="tabset3_xamarin"></a>Xamarin</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset3_android">
<div class="paragraph">
<p><code>app/src/main/assets/mobile-services.json</code></p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset3_ios">
<div class="paragraph">
<p><code>&lt;app directory&gt;/mobile-services.json</code>
NOTE: Ensure that <code>mobile-services.json</code> is a member of the project in the Xcode Project Navigator.</p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset3_cordova">
<div class="paragraph">
<p><code>src/mobile-services.json</code></p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset3_xamarin">
<div class="paragraph">
<p><code>Resources/mobile-services.json</code></p>
</div>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="setting-up-sdk-push"><a class="anchor" href="#setting-up-sdk-push"></a>Setting up the Push Notifications Service SDK</h3>
<div class="paragraph">
<p>This section helps you to set up the Push Notifications service SDK in your App.
It describes how to set up and initialize the Push Notifications service SDK.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Your local <code>mobile-services.json</code> file is up-to-date.</p>
</li>
</ul>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset4_android"></a>Android</p>
</li>
<li>
<p><a id="tabset4_ios"></a>iOS</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset4_android">
<div class="paragraph">
<p>A <a href="https://firebase.google.com/" target="_blank" rel="noopener">Firebase account</a>.</p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset4_ios">
<div class="paragraph">
<p>An <a href="https://developer.apple.com/library/archive/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/APNSOverview.html#//apple_ref/doc/uid/TP40008194-CH8-SW1" target="_blank" rel="noopener">APNs service</a>.</p>
</div>
</div>
</div>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Import the libraries</p>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset5_android"></a>Android</p>
</li>
<li>
<p><a id="tabset5_ios"></a>iOS</p>
</li>
<li>
<p><a id="tabset5_cordova"></a>Cordova</p>
</li>
<li>
<p><a id="tabset5_xamarin"></a>Xamarin</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset5_android">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add the push dependency to your application module</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">implementation "org.aerogear:aerogear-push:1.0.0"
implementation "com.google.firebase:firebase-messaging:[version]"</code></pre>
</div>
</div>
</li>
<li>
<p>Create a new project in <a href="https://console.firebase.google.com" target="_blank" rel="noopener">Firebase console</a></p>
</li>
<li>
<p>Add <a href="https://developers.google.com/android/guides/google-services-plugin" target="_blank" rel="noopener">The Google Services Gradle Plugin</a> in your root <code>build.gradle</code> file</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">  buildscript {
      dependencies {
          classpath 'com.google.gms:google-services:[version]'
      }
  }</code></pre>
</div>
</div>
</li>
<li>
<p>Apply the plugin in your app <code>build.gradle</code> file</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">  // ADD THIS AT THE BOTTOM
  apply plugin: 'com.google.gms.google-services'</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset5_ios">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add the dependency to your Podfile</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">target '[TARGET NAME]' do
    pod 'AGSPush', '[VERSION]'
end</code></pre>
</div>
</div>
</li>
<li>
<p>Update the dependencies</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ pod install</code></pre>
</div>
</div>
</li>
<li>
<p>Import the SDK</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift">import AGSPush</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset5_cordova">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install <code>cordova-plugin-aerogear-push</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ cordova plugin add @aerogear/cordova-plugin-aerogear-push</code></pre>
</div>
</div>
</li>
<li>
<p>Ionic Apps require an additional dependency, the <a href="https://ionicframework.com/docs/native/push/" target="_blank" rel="noopener">Ionic Native Push Library</a></p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ npm install --save @ionic-native/push</code></pre>
</div>
</div>
</li>
<li>
<p>Install the Unified Push Server package needed for device registration:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ npm install --save @aerogear/push</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset5_xamarin">
<div class="paragraph">
<p>This feature is not yet supported in the AeroGear Xamarin SDK</p>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Code the device registration</p>
<div class="paragraph">
<p>To use the Push Notifications service, devices must be registered.
This registration is performed by calling an endpoint of the server.</p>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset6_android"></a>Android</p>
</li>
<li>
<p><a id="tabset6_ios"></a>iOS</p>
</li>
<li>
<p><a id="tabset6_cordova"></a>Cordova</p>
</li>
<li>
<p><a id="tabset6_xamarin"></a>Xamarin</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset6_android">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Getting an instance of the PushService</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">PushService pushService = new PushService.Builder().openshift().build();</code></pre>
</div>
</div>
</li>
<li>
<p>Registration request</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">pushService.registerDevice()
  .requestOn(new AppExecutors().mainThread())
  .respondWith(new Responder&lt;Boolean&gt;() {
    @Override
    public void onResult(Boolean value) { // Yay }

    @Override
    public void onException(Exception exception) { // Oops! }
});</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset6_ios">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift">func application(_ application: UIApplication,
                 didRegisterForRemoteNotificationsWithDeviceToken deviceToken: Data) {
    var config = UnifiedPushConfig()
    AgsPush.instance.register(
        deviceToken,
        config,
        success: {
           print("Successfully registered to Unified Push Server")
        },
        failure: { (error: Error!) in
           print("Failure to register for on Unified Push Server: \(error)")
        }
    )
}</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset6_cordova">
<div class="paragraph">
<p><strong>Using plain Cordova</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">import { PushRegistration } from "@aerogear/push";

const push = PushNotification.init({
    android: {},
    ios: {
        alert: "true",
        badge: "true",
        sound: "true"
    }
});

// Registration handler
push.on('registration', data =&gt; {
    // PushRegistration is part of @aerogear/push
    new PushRegistration(app.config).register(data.registrationId).then(() =&gt; {
        // Registration with UPS successful, you can now send push notifications from the UPS UI
    }).catch(err =&gt; {
        // Error on device registration
    });
});</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Using Ionic</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">import { PushRegistration } from "@aerogear/push";
import { Push } from "@ionic-native/push";

const pushObject = new Push().init({
    android: {},
    ios: {
        alert: true,
        badge: true,
        sound: true
    }
});

pushObject.on('registration').subscribe(data =&gt; {
    new PushRegistration(app.config).register(data.registrationId).then(() =&gt; {
        // Registration with UPS successful, you can now send push notifications from the UPS UI
    }).catch(err =&gt; {
        //Error on device registration
    });
});</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset6_xamarin">
<div class="paragraph">
<p>This feature is not yet supported in the AeroGear Xamarin SDK</p>
</div>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sending-a-push-notification-push"><a class="anchor" href="#sending-a-push-notification-push"></a>Sending a Push Notification using the Unified Push Admin UI</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Unified Push Admin UI allows you to send Push Notifications.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Make sure the Push Notifications service is provisioned.</p>
</li>
<li>
<p>Select a route in OpenShift.</p>
</li>
<li>
<p>Login with your OpenShift credentials.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
On first login you need to provide the OpenShift OAuth service permissions to read your user account.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Open the Unified Push Admin UI in a browser.</p>
</li>
<li>
<p>Select the target application from the home page and click <strong>Send Notification To This App</strong>.</p>
<div class="imageblock">
<div class="content">
<img src="_images/send1.png" alt="Send a Push">
</div>
</div>
</li>
<li>
<p>When the <em>Send Push</em> dialog displays, enter text in the <strong>Message</strong> form.</p>
<div class="imageblock">
<div class="content">
<img src="_images/send2.png" alt="Enter the payload">
</div>
</div>
</li>
<li>
<p>Click <strong>Send Push Notification</strong> to send the message to the target application.</p>
<div class="imageblock">
<div class="content">
<img src="_images/PushMessage.png" alt="You got a notification!">
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The 3rd party Push Network is responsible for delivering the Push Notification to the target application.
</td>
</tr>
</table>
</div>
<h3 id="additional-information" class="discrete">Additional Information</h3>
<div class="ulist">
<ul>
<li>
<p>To access Push Notifications using the RESTful endpoints, see the <a href="https://www.aerogear.org/docs/specs/aerogear-unifiedpush-rest/">API documentation</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="handling-push-notifications-push"><a class="anchor" href="#handling-push-notifications-push"></a>Handling Incoming Push Notifications</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes how to handle incoming push notifications in your foregrounded application.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Push notifications that arrive when the application is in the background are always handled by the OS.
</td>
</tr>
</table>
</div>
<div class="tabset is-loading">
<div class="ulist tabs">
<ul>
<li>
<p><a id="tabset7_android"></a>Android</p>
</li>
<li>
<p><a id="tabset7_ios"></a>iOS</p>
</li>
<li>
<p><a id="tabset7_cordova"></a>Cordova</p>
</li>
<li>
<p><a id="tabset7_xamarin"></a>Xamarin</p>
</li>
</ul>
</div>
<div class="content">
<div class="tab-pane" aria-labelledby="tabset7_android">
<div class="paragraph">
<p>Add to your project an implementation of <strong>MessageHandler</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class MyMessageHandler implements MessageHandler {

    @Override
    public void onMessage(Context context, Map&lt;String, String&gt; message) {
        // Handle incoming message
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Add it to your application&#8217;s manifest.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;meta-data
    android:name="DEFAULT_MESSAGE_HANDLER_KEY"
    android:value=".MyMessageHandler" /&gt;</code></pre>
</div>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset7_ios">
<div class="paragraph">
<p>The AeroGear SDK for iOS does not provide a way to handle incoming messages. Instead, follow the <a href="https://developer.apple.com/notifications/" target="_blank" rel="noopener">Apple&#8217;s official documentation</a> about notifications.</p>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset7_cordova">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You can only develop push applications using Ionic. Plain Cordova is not supported.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add the following code to your app:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">pushObject.on('notification').subscribe(data =&gt; {
    // Handle incoming message
});</code></pre>
</div>
</div>
</li>
<li>
<p>Review the documentation at <a href="https://ionicframework.com/docs/native/push" target="_blank" rel="noopener">Ionic Push plugin</a> for details about using the plugin.</p>
</li>
</ol>
</div>
</div>
<div class="tab-pane" aria-labelledby="tabset7_xamarin">
<div class="paragraph">
<p>This feature is not yet supported in the AeroGear Xamarin SDK</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="additional-resources"><a class="anchor" href="#additional-resources"></a>Additional resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://developer.apple.com/notifications/" target="_blank" rel="noopener">Apple Push Notification Service</a></p>
</li>
<li>
<p><a href="https://firebase.google.com/products/cloud-messaging/" target="_blank" rel="noopener">Firebase Cloud Messaging</a></p>
</li>
</ul>
</div>
</div>
</div>
</article>
  </main>
</div>
<footer class="footer">
  <div class="container">
    <div class="row">

      <div class="col-sm-4">
        <h5>Mobile Services</h5>
        <ul class="list-unstyled">
         <li><a href="https://aerogear.org/services/identity-management/">Identity Management</a></li>
         <li><a href="https://aerogear.org/services/push/">Push Notifications</a></li>
         <li><a href="https://aerogear.org/services/metrics/">Mobile Metrics</a></li>
         <li><a href="https://aerogear.org/services/mobile-ci-cd/">Mobile CI/CD</a></li>
         <li><a href="https://aerogear.org/services/device-security/">Device Security</a></li>
        </ul>
      </div><!-- col -->

      <div class="col-sm-4">
        <h5>Mobile SDKs</h5>
        <ul class="list-unstyled">
         <li><a href="https://aerogear.org/sdks/android/">Android</a></li>
         <li><a href="https://aerogear.org/sdks/cordova/">Cordova</li>
         <li><a href="https://aerogear.org/sdks/ios/">iOS</a></li>
         <li><a href="https://aerogear.org/sdks/xamarin/">Xamarin</a></li>
        </ul>
      </div><!-- col -->
      
      <div class="col-sm-4">
        <h5>COMMUNITY</h5>
        <ul class="list-unstyled">
          <li><a target="_blank" href="https://github.com/aerogear/">GitHub - Aerogear</a></li>
          <li><a target="_blank" href="https://github.com/aerogearcatalog/">GitHub - Aerogear Catalog</a></li>
          <li><a target="_blank" href="https://issues.jboss.org/browse/AEROGEAR">Jira Repo Issues</a></li>
          <li><a  href="https://aerogear.org/community/contribution-guide/">Contribution Guide</a></li>
          <li><a target="_blank" href="https://groups.google.com/forum/#!forum/aerogear">Google Group</a></li>
          <li><a href="irc://irc.freenode.net/aerogear">IRC</a></li>
        </ul>
      </div><!-- col -->

      <div class="col-sm-12 follow">
        <h5>FOLLOW US</h5>
        <ul class="list-inline">
          <li><a target="_blank" href="https://www.twitter.com/aerogears"><i class="fa fa-twitter-square"></i> Twitter</a></li>
          <li><a target="_blank" href="https://www.youtube.com/channel/UCgDcDoN2b7cEI63fgpxACBA"><i class="fa fa-youtube"></i> YouTube</a></li>
          <li><a target="_blank" href="https://aerogear.org/news"><i class="fa fa-rss-square"></i> Feed</a></li>
        </ul>
        
        <p>The AeroGear project is licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a>, and is subject to the <a href="https://aerogear.org/legal/export.html">Export Policy</a>.</p>
      </div><!-- col -->
    
    </div><!-- row -->

  </div><!-- container -->

</footer><!-- footer -->

<section class="redhat">
  <div class="container">
    <p class="text-center">
      <a href="http://www.redhat.com/">
        <img src="/_/img/redhatlogo-wite.png" alt="redhatlogo-wite" width="130">
      </a>
    </p>       
  </div><!-- container -->
</section>
<script src="../../_/js/site.js"></script>
<script src="../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
  </body>
</html>
