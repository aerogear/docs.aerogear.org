<!DOCTYPE html>
<html lang="en">
  <head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.min.js"></script>
<script>
function addBlockSwitches() {
	$('.primary').each(function() {
		primary = $(this);
		createSwitchItem(primary, createBlockSwitch(primary)).item.addClass("selected");
		primary.children('.title').remove();
	});
	$('.secondary').each(function(idx, node) {
		secondary = $(node);
		primary = findPrimary(secondary);
		switchItem = createSwitchItem(secondary, primary.children('.switch'));
		switchItem.content.addClass('hidden');
		findPrimary(secondary).append(switchItem.content);
		secondary.remove();
	});
}

function createBlockSwitch(primary) {
	blockSwitch = $('<div class="switch"></div>');
	primary.prepend(blockSwitch);
	return blockSwitch;
}

function findPrimary(secondary) {
	candidate = secondary.prev();
	while (!candidate.is('.primary')) {
		candidate = candidate.prev();
	}
	return candidate;
}

function createSwitchItem(block, blockSwitch) {
	blockName = block.children('.title').text();
	content = block.children('.content').first().append(block.next('.colist'));
	item = $('<div class="switch--item">' + blockName + '</div>');
	item.on('click', '', content, function(e) {
		$(this).addClass('selected');
		$(this).siblings().removeClass('selected');
		e.data.siblings('.content').addClass('hidden');
		e.data.removeClass('hidden');
	});
	blockSwitch.append(item);
	return {'item': item, 'content': content};
}

$(addBlockSwitches);    
</script>


    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apple related setup :: AeroGear Mobile Services</title>
    <link rel="canonical" href="https://www.aerogear.org/aerogear/latest/push/apple-setup.html">
    <meta name="generator" content="Antora 1.0.0">
    <link rel="stylesheet" href="../../../_/css/site.css">
  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.aerogear.org">AeroGear Mobile Services</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">

    </div>
  </nav>
</header>
<div class="main-wrapper">
<div class="navigation-container" data-component="aerogear" data-version="latest">
  <aside class="navigation" role="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">AeroGear</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../index.html">Getting Started</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../installing-mobile-services.html">Installing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../mobile_terminology.html">Terminology</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../getting-started-with-openshift.html">Getting Started with OpenShift</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../workflow.html">Mobile Apps &amp; Services Workflow</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../con_services.html">Introducing Mobile Services</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../provisioning-services.html">Provisioning</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrating-services.html">Binding Services</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../apps.html">Integrating Mobile Apps</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../registering-a-mobile-app.html">Registering an App</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../binding-mobile-app-record-to-mobile-services.html">Binding an App to a Service</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuring-dev-env.html">Configuring development environment</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Using Mobile Services</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="index.html">Push</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="provisioning.html">Provisioning</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="binding.html">Binding</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../configuring-dev-env.html">Configuring development environment</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="coding.html">Adding Code</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">More&#8230;&#8203;</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="sending-push-notifications.html">Sending Push Notifications</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="handling-push-notifications.html">Handling Push Notifications</a>
  </li>
  <li class="nav-item is-current-page" data-depth="4">
    <a class="nav-link" href="apple-setup.html">Apple Push Network</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="google-setup.html">Firebase Cloud Messaging</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../metrics/index.html">Metrics</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../metrics/provisioning.html">Provisioning</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../metrics/binding.html">Binding</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../configuring-dev-env.html">Configuring development environment</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#">metrics/coding.adoc</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../metrics/analysing-app-usage.html">Analysing App Usage</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../monitoring-keycloak.html">Monitoring Identity Management</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../keycloak/index.html">Identity Management</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../keycloak/provisioning.html">Provisioning</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../keycloak/binding.html">Binding</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../digger/index.html">CI\CD</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../digger/provisioning.html">Provisioning</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../digger/binding.html">Binding</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../custom/index.html">Custom Runtime Connector</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../custom/provisioning.html">Provisioning</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../custom/binding.html">Binding</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="../using-the-showcase-apps.html">Using the Showcase Apps</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../testcard.html">Metrics for the Showcase App</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../testcard.html">Identity Management for the Showcase App</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../testcard.html">CI\CD for the Showcase App</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../testcard.html">Custom Runtime Connector for the Showcase App</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../testcard.html">Push for the Showcase App</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-toggle"></button>
    <span class="nav-text">Reference</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../ref_api.html">API Reference</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../mobile-cli.html">Mobile CLI</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">AeroGear</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">AeroGear</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main" role="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="crumbs" role="navigation" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="../index.html">AeroGear</a></li>
    <li class="crumb">Using Mobile Services</li>
    <li class="crumb"><a href="index.html">Push</a></li>
    <li class="crumb">More&#8230;&#8203;</li>
    <li class="crumb"><a href="apple-setup.html">Apple Push Network</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///home/jstaffor/mext/mobile-docs/modules/ROOT/pages/push/apple-setup.adoc"></a></div>
</div>
<article class="doc">
<h1>Apple related setup</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Before you are able to use Push Notifications on your iOS Application, a few steps are required. This section of the tutorial gives a quick overview of what is needed!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="certificate-signing-request"><a class="anchor" href="#certificate-signing-request"></a>Certificate Signing Request</h2>
<div class="sectionbody">
<div class="paragraph">
<p>First you need to submit a request for a new digital certificate, which is based on a public/private key. The Certificate itself is acting as the public key, and when you request it, a private key is added to your <strong>KeyChain</strong> tool. The Cerficate will be used later on, to request an SSL certificate for the <em>Apple Push Network Service</em>, which will allow the <em>AeroGear Push Server</em> to send notification messages to it. Now the actual CSR (Certificate Signing Request) is done using <strong>KeyChain Access</strong> tool found in <strong>Applications &gt; Utilities</strong> folder on your Mac.  Once opened, in the <strong>KeyChain Access</strong> menu, choose <strong>Certificate Assistant &gt; Request a Certificate from a Certificate Authority</strong>:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/img/SubmitCSR.png" alt="Submit Signing Request"></span></p>
</div>
<div class="paragraph">
<p>Make sure that you have choosen to store the CSR <em>on file</em>, so we can upload it later in the provisioning portal when requesting the actual SSL cert. Going back to <strong>KeyChain Access</strong> you now see a new <strong>private</strong> key:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/img/KeyChain_prtKey.png" alt="private"></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="apple-app-id-and-ssl-certificate-for-apns"><a class="anchor" href="#apple-app-id-and-ssl-certificate-for-apns"></a>Apple App ID and SSL certificate for APNs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now that the CSR is generated, go to the <a href="https://developer.apple.com/account/overview.action">Provisioning Portal</a> and log in with your Apple developer account. Now, click on the <strong>Identifiers</strong> link in order to create a new App ID (use the <strong>PLUS</strong> Icon on the right). In the formular give the <strong>App ID</strong> a <em>descriptive</em> name, like <strong>My first AeroGear Push App</strong>. Double check that the <strong>Push Notifications</strong> checkbox is <em>selected</em>:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/img/AppID_1.png" alt="Give the App ID a name"></span></p>
</div>
<div class="paragraph">
<p>Later in the same page you are asked for an <strong>Explicit App ID</strong>, since the generic <strong>Wildcard App ID</strong> does not work with Push Notifications. In the <em>Bundle ID</em> field enter <strong>YOUR</strong> bundle ID. This is similar to Java packages. In this example we choose <em>org.aerogear.PushTest</em>, however you <strong>must</strong> use your own ID. <strong>NOTE:</strong> The <em>Bundle ID</em> has to match the one from the actual iOS application that you are building later in this guide.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/img/AppID_2.png" alt="Apply the Bundle ID from our App"></span></p>
</div>
<div class="paragraph">
<p>In the next screen confirm your new App ID, and double check that the <em>Push Notifications</em> option is <em>enabled</em>. Afterwards click the <em>Submit</em> button! Now you are <em>Done</em>. In the next screen, click on on the <strong>newly created</strong> App ID. After clicking on it, the following screen appears:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/img/AppID_3.png" alt="Overview"></span></p>
</div>
<div class="paragraph">
<p>Click the Edit button and scroll down to the Push Notifications section. Here we are asked to generate a <em>Development</em> and a <em>Production</em> certificate that will be used by the UnifiedPush server when contacting the Apple Push Notification service to send messages. If you plan to distribute your app in the App Store, you are required to generate a Production certificate. In this guide we will generate both Certificates and register them with the UnifiedPush server.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s start first by generating the <em>Development Certificate</em>. Click the <em>Create Certificate&#8230;&#8203;</em> button on the <em>Development SSL Certificate</em> section:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/img/SSLCert.png" alt="SSL Certificate"></span></p>
</div>
<div class="paragraph">
<p>Inside of the next Dialog you are asked to upload the <em>Certificate Signing Request</em> that we created earlier. Now perform an upload of the <strong>CSR</strong> and click the <em>Generate</em> button:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/img/SSLCert_upload.png" alt="CSR upload"></span></p>
</div>
<div class="paragraph">
<p>Finishing the upload dialog, you are coming back to the overview of the <strong>App ID</strong>.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/img/AppID_3.png" alt="Overview"></span></p>
</div>
<div class="paragraph">
<p><strong>Now</strong> click the <em>Edit</em> button again and scroll down to the Push Notifications section. Notice that the <em>Development SSL Certificate</em> section is filled with the required details.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/img/SSLCertProd.png" alt="SSL Certificate Production"></span></p>
</div>
<div class="paragraph">
<p>Time now to create the <em>Production</em> certificate by following the same steps as previously, this time by clicking the 'Create Certificate' button on the <em>Production SSL Certificate</em> section. Once you are done, you are back to the overview of the <strong>App ID</strong>.</p>
</div>
<div class="paragraph">
<p>Click the <em>Edit</em> button again and scroll down to the Push Notifications section. Now that we have both Certificates generated, time to download them locally to your computer.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/img/SSLCert_downloadProd.png" alt="SSL Certificate download"></span></p>
</div>
<div class="paragraph">
<p>The <em>Development SSL Certificate</em> file is being downloaded as <em>aps_development.cer</em>. Double click on it and it will show up in the <strong>KeyChain Access</strong> tool:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/img/PushCert.png" alt="APNs certificate"></span></p>
</div>
<div class="paragraph">
<p>Now you have to export this certificate/private key pair to the <strong>.p12</strong> (<em>Personal Information Exchange</em>). This file will be uploaded later on to the AeroGear Push Server enabling it to authorize itself for your <strong>development</strong> application on <em>Apple Push Network Service</em> and send messages to it.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/img/PushCert_Export.png" alt="Export to .p12 format"></span></p>
</div>
<div class="paragraph">
<p>When exporting the file, as your private key, you need to assign a passphrase for it. Make note of it, because later when uploading it to the <em>AeroGear Push Server</em> you will need both the exported file and the passphrase.</p>
</div>
<div class="paragraph">
<p>Follow the same steps to download the <em>Production SSL Certificate</em>, the file is being downloaded as <em>aps_production.cer</em>. Double click to add in your <strong>KeyChain Access</strong> tool:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/img/PushCertProd.png" alt="APNs Distribution certificate"></span></p>
</div>
<div class="paragraph">
<p>Now export it too as a <strong>.p12</strong> (<em>Personal Information Exchange</em>). This file will be uploaded later on to the AeroGear Push Server enabling it to authorize itself for your <strong>production</strong> application on <em>Apple Push Network Service</em> and send messages to it. When exporting the file, as your private key, you need to assing a passphrase for it (this can be same or different with your passphrase for your development certificate).</p>
</div>
<div class="sect2">
<h3 id="provisioning-profile"><a class="anchor" href="#provisioning-profile"></a>Provisioning Profile</h3>
<div class="paragraph">
<p>Next, you need to create an <a href="#provisioning-profiles">Apple Provisioning Profile</a></p>
</div>
</div>
</div>
</div>
</article>
  </main>
</div>
<footer class="footer">
  <p>This is a preview of the https://docs.aerogear.org website.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script src="../../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
  </body>
</html>
